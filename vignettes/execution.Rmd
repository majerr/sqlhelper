---
title: "Executing SQL"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Executing SQL}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

`sqlhelper`'s main purpose is the execution of _files_ of SQL, with options for
controlling the execution of individual SQL queries within each file. However,
`sqlhelper` can also be used to execute SQL query strings, and to read and
prepare SQL files without executing them.

## Executing SQL files

Executing SQL code requires a connection to a database, and `sqlhelper` provides
ways to automate creating and managing connections. These are described in
`vignette("connections")`.

Once connections are configured, the `run_files()` command can be used to
execute files of SQL code.

```{r}
library(sqlhelper)

# connect and write iris to the default connection
# for this demo
connect("examples/sqlhelper_db_conf.yml", exclusive = TRUE)
DBI::dbWriteTable( default_conn(), name = "IRIS", iris)

readLines("examples/example.sql") |>
writeLines()

petal_length <- 1.3

run_files("examples/example.sql")
```

### Accessing results of queries


### Controlling execution of individual queries

### Interpolation

### Binding


## Executing SQL queries

## Preparing SQL files

## Passing ad-hoc connections to functions


```{r setup}
library(sqlhelper)
```
